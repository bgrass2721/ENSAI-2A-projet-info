import requests

def get_lyrics_from_lrclib(title: str, artist: str):
    """
    Recherche les paroles d'une chanson via LRCLIB à partir du titre et de l'artiste.
    Retourne les paroles si trouvées, sinon None.
    """
    # URL de l'API de recherche LRCLIB
    url = "https://lrclib.net/api/get"

    # Paramètres de la requête
    params = {
        "track_name": title,
        "artist_name": artist
    }

    try:
        response = requests.get(url, params=params, timeout=10)
        response.raise_for_status()
        data = response.json()

        # Si des paroles sont disponibles
        if "plainLyrics" in data and data["plainLyrics"]:
            return data["plainLyrics"]
        else:
            print("Paroles non trouvées pour cette chanson.")
            return None

    except requests.exceptions.RequestException as e:
        print(f"Erreur lors de la requête : {e}")
        return None


#  Exemple d'utilisation :
if __name__ == "__main__":
    titre = "Life Letters"
    artiste = "Never Get Used To People"
    paroles = get_lyrics_from_lrclib(titre, artiste)

    if paroles:
        print(paroles)  # affiche les 1000 premiers caractères
